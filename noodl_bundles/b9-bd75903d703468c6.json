[{"name":"/#Post Info/Post Info","nodes":[{"id":"aa54dc32-769a-3bd1-337a-c6c70cce87a2","type":"Page","parameters":{},"ports":[],"children":[{"id":"2fe7150b-1063-3ccc-14c9-282fc0559f3e","type":"Group","variant":"Page Container","parameters":{"flexDirection":"column","clip":true,"sizeMode":"explicit","scrollEnabled":true,"justifyContent":"flex-start"},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"children":[{"id":"6e384dd8-6a4b-9758-fdc2-bf50df287f38","type":"/#Post Info/Post Info View","parameters":{},"ports":[],"children":[]}]}]},{"id":"3d4507b2-1e6a-bfac-c25a-ba3a2608cbc9","type":"PageInputs","parameters":{"pathParams":"PostId"},"ports":[],"children":[]}],"connections":[{"sourceId":"3d4507b2-1e6a-bfac-c25a-ba3a2608cbc9","sourcePort":"pm-PostId","targetId":"6e384dd8-6a4b-9758-fdc2-bf50df287f38","targetPort":"PostId"}],"ports":[],"roots":["aa54dc32-769a-3bd1-337a-c6c70cce87a2"],"metadata":{"canvasPos":{"x":8140.888820231771,"y":-19.84324220332268}}},{"name":"/#Post Info/Post Info View","nodes":[{"id":"dd7ead39-4fe1-9617-47d3-4659160bcf01","type":"Group","parameters":{},"ports":[],"children":[{"id":"c258af88-4c13-6e84-d753-c751713e5464","type":"/Components/Header2","parameters":{},"ports":[],"children":[]},{"id":"ada58548-3fff-b169-5552-8648e51f3318","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentSize"},"ports":[],"children":[{"id":"c4426176-158c-7a05-744b-371f9b869aaa","type":"Text","parameters":{"sizeMode":"contentSize","marginRight":{"value":16,"unit":"px"},"text":"","fontFamily":"fonts/Roboto/Roboto-Light.ttf","color":"White"},"ports":[],"children":[]},{"id":"d333a3fc-9a5f-9fb3-daa2-2aa5859fac2c","type":"Text","parameters":{"sizeMode":"contentSize","text":"","color":"White","fontFamily":"fonts/Roboto/Roboto-Light.ttf"},"ports":[],"children":[]}]},{"id":"5722f60d-0efd-44a0-dddf-10d122ab5b79","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentHeight","paddingTop":{"value":5,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"},"marginBottom":{"value":14,"unit":"px"}},"ports":[],"children":[{"id":"7a0a0888-a561-e86c-e353-84517063d14f","type":"net.noodl.controls.button","parameters":{"height":{"value":30,"unit":"px"},"label":"Blogger","marginRight":{"value":12,"unit":"px"}},"ports":[],"children":[]},{"id":"fe2a8a2f-0e03-9f44-13a8-610062b40652","type":"net.noodl.controls.button","parameters":{"height":{"value":30,"unit":"px"},"label":"Spotify","marginRight":{"value":12,"unit":"px"}},"ports":[],"children":[]},{"id":"8b4adddc-4d49-6fb6-6602-471eef613c7d","type":"Group","parameters":{"sizeMode":"contentSize"},"ports":[],"children":[{"id":"3e36828b-6b77-e802-19c5-7d4fee4320ef","type":"net.noodl.controls.button","parameters":{"useIcon":true,"height":{"value":30,"unit":"px"},"iconIconSource":{"class":"material-icons","code":"star"},"label":"Add to favs","paddingRight":{"value":14,"unit":"px"},"paddingLeft":{"value":14,"unit":"px"}},"ports":[],"children":[]},{"id":"c7622f65-defa-5096-750f-6b86d3c5d35e","type":"net.noodl.controls.button","parameters":{"useIcon":true,"height":{"value":30,"unit":"px"},"iconIconSource":{"class":"material-icons","code":"star_outline"},"label":"Remove from favs","paddingRight":{"value":14,"unit":"px"},"paddingLeft":{"value":14,"unit":"px"}},"ports":[],"children":[]}]}]},{"id":"01ff608f-f4c8-18cf-e95a-c9032d25112f","type":"Group","parameters":{},"ports":[],"children":[{"id":"704064aa-0f76-6075-f4c2-f33c5ce2ea06","type":"/Post Table","parameters":{"Headers":"[{\n    \"Field\":\"name\",\n    \"Label\":\"Track\",\n    \"Type\":\"Track\"\n  },\n  {\n    \"Field\":\"artists\",\n    \"Label\":\"Artists\",\n    \"Type\":\"Artists\"\n  },\n  {\n    \"Field\":\"album\",\n    \"Label\":\"Album\",\n    \"Type\":\"Album\"\n  }\n  ]","Retrieve Artists in Track Item":false},"ports":[],"children":[]}]}]},{"id":"3e364eaf-9765-bcef-ebbc-2a9f8a114cbd","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"5195e3d2-610e-999a-98b4-4aba9b1ad6f0","type":"DbModel2","parameters":{"collectionName":"Post"},"ports":[],"children":[]},{"id":"892a6eb3-fa34-94e5-aa27-40dad5322766","type":"net.noodl.externallink","parameters":{},"ports":[],"children":[]},{"id":"c85fbeed-c105-8e1c-0f30-671c41adcdf2","type":"net.noodl.externallink","parameters":{},"ports":[],"children":[]},{"id":"3fa93927-5a9d-902a-3a18-c219d59adb18","type":"JavaScriptFunction","parameters":{"functionScript":"const originalUrl = Inputs.SpotifyUrl;\n//console.log (\"original url\", originalUrl);\nif (originalUrl !== undefined) {\n    const sid = originalUrl;//originalUrl.substring (\"https://api.spotify.com/v1/playlists/\".length);\n    const newUrl = \"https://open.spotify.com/playlist/\"+sid;\n    Outputs.PlayUrl = newUrl;  \n}\n"},"ports":[{"name":"in-SpotifyUrl","displayName":"SpotifyUrl","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-PlayUrl","displayName":"PlayUrl","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"a32b7e71-16cc-8f8c-9c5f-a0dc4d5e7626","type":"RouterNavigate","parameters":{"router":"main","target":"/#Track Info/Track Info"},"ports":[],"children":[]},{"id":"b05b9a4c-a6e1-b76d-dc8d-f36aed11d121","type":"String Format","parameters":{"format":"{bname}/{sname}"},"ports":[],"children":[]},{"id":"50ce2926-df4a-4d22-3bc2-35cf17f67a16","type":"Date To String","parameters":{},"ports":[],"children":[]},{"id":"836c535a-5287-3fe0-416d-f107f36c36d5","type":"DbModel2","parameters":{"collectionName":"Member"},"ports":[],"children":[]},{"id":"295e308b-a443-4d0a-5ef2-cbe42baadad7","type":"Switch","parameters":{},"ports":[],"children":[]},{"id":"1a7c08f2-db2b-f19e-1249-1492a6596949","type":"/Favourite Handling/Is Favorite","parameters":{},"ports":[],"children":[]},{"id":"2f492b4b-cde9-569a-c6a0-1cb44e3a7951","type":"Inverter","parameters":{},"ports":[],"children":[]},{"id":"b19f14c8-77b7-caec-095b-b890660b2fed","type":"/Favourite Handling/Add Favorite","parameters":{},"ports":[],"children":[]},{"id":"c8f2d5eb-43b1-0239-35c7-9d56dcc903c3","type":"/Favourite Handling/Remove Favorite","parameters":{},"ports":[],"children":[]},{"id":"8b6dda71-418d-8b4f-f09d-e93e08e1130e","type":"net.noodl.user.User","parameters":{},"ports":[],"children":[]},{"id":"6d0c24fe-dacc-ac8a-23d9-f6e106847f24","type":"JavaScriptFunction","parameters":{"functionScript":"const tracks = Inputs.Tracks;\nconst order = Inputs.TrackOrder;\nif (tracks !== undefined) {\n    if (Inputs.TrackOrder === undefined) {\n        Outputs.SortedTracks = tracks;\n    }\n    else {\n        // ok we have an order to follow\n        let fail = false;\n        const sortedTracks = order.map (orderItem => {\n            let record = tracks.find ( t => t.spotify_url === orderItem);\n            if (record !== undefined) {\n                return record;\n            }\n            else {\n                console.log (\"failed to find track referred to in order list\");\n                fail = true;\n                return undefined;\n            }\n        });\n        if (fail === true) {\n            Outputs.SortedTracks = tracks;\n        }\n        else {\n            Outputs.SortedTracks = sortedTracks;\n        }\n    }\n}\nOutputs.Done();\n\n"},"ports":[{"name":"in-Tracks","displayName":"Tracks","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-TrackOrder","displayName":"TrackOrder","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-SortedTracks","displayName":"SortedTracks","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"cf5bab7c-8699-e986-355b-3f9743ed4ea4","type":"JavaScriptFunction","parameters":{"functionScript":"const postId = Inputs.PostId;\nif (postId !== undefined) {\n    const results = await Noodl.Records.query(\"SpotifyTrack\",{\n    relatedTo: { id: postId, key:'spotify_tracks' }},\n    {include:'album'});\n\n    Outputs.Items = results;\n    Outputs.Success();\n}"},"ports":[{"name":"in-PostId","displayName":"PostId","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Items","displayName":"Items","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]}],"connections":[{"sourceId":"3e364eaf-9765-bcef-ebbc-2a9f8a114cbd","sourcePort":"PostId","targetId":"5195e3d2-610e-999a-98b4-4aba9b1ad6f0","targetPort":"modelId"},{"sourceId":"7a0a0888-a561-e86c-e353-84517063d14f","sourcePort":"onClick","targetId":"892a6eb3-fa34-94e5-aa27-40dad5322766","targetPort":"do"},{"sourceId":"fe2a8a2f-0e03-9f44-13a8-610062b40652","sourcePort":"onClick","targetId":"c85fbeed-c105-8e1c-0f30-671c41adcdf2","targetPort":"do"},{"sourceId":"5195e3d2-610e-999a-98b4-4aba9b1ad6f0","sourcePort":"prop-spotify_url","targetId":"3fa93927-5a9d-902a-3a18-c219d59adb18","targetPort":"in-SpotifyUrl"},{"sourceId":"3fa93927-5a9d-902a-3a18-c219d59adb18","sourcePort":"out-PlayUrl","targetId":"c85fbeed-c105-8e1c-0f30-671c41adcdf2","targetPort":"link"},{"sourceId":"5195e3d2-610e-999a-98b4-4aba9b1ad6f0","sourcePort":"prop-url","targetId":"892a6eb3-fa34-94e5-aa27-40dad5322766","targetPort":"link"},{"sourceId":"5195e3d2-610e-999a-98b4-4aba9b1ad6f0","sourcePort":"prop-title","targetId":"c258af88-4c13-6e84-d753-c751713e5464","targetPort":"Title Text"},{"sourceId":"5195e3d2-610e-999a-98b4-4aba9b1ad6f0","sourcePort":"prop-published","targetId":"50ce2926-df4a-4d22-3bc2-35cf17f67a16","targetPort":"input"},{"sourceId":"50ce2926-df4a-4d22-3bc2-35cf17f67a16","sourcePort":"currentValue","targetId":"c4426176-158c-7a05-744b-371f9b869aaa","targetPort":"text"},{"sourceId":"5195e3d2-610e-999a-98b4-4aba9b1ad6f0","sourcePort":"prop-member","targetId":"836c535a-5287-3fe0-416d-f107f36c36d5","targetPort":"modelId"},{"sourceId":"836c535a-5287-3fe0-416d-f107f36c36d5","sourcePort":"prop-blogger_name","targetId":"b05b9a4c-a6e1-b76d-dc8d-f36aed11d121","targetPort":"bname"},{"sourceId":"b05b9a4c-a6e1-b76d-dc8d-f36aed11d121","sourcePort":"formatted","targetId":"d333a3fc-9a5f-9fb3-daa2-2aa5859fac2c","targetPort":"text"},{"sourceId":"295e308b-a443-4d0a-5ef2-cbe42baadad7","sourcePort":"state","targetId":"01ff608f-f4c8-18cf-e95a-c9032d25112f","targetPort":"mounted"},{"sourceId":"704064aa-0f76-6075-f4c2-f33c5ce2ea06","sourcePort":"Item Id","targetId":"a32b7e71-16cc-8f8c-9c5f-a0dc4d5e7626","targetPort":"pm-TrackId"},{"sourceId":"704064aa-0f76-6075-f4c2-f33c5ce2ea06","sourcePort":"Item Clicked","targetId":"a32b7e71-16cc-8f8c-9c5f-a0dc4d5e7626","targetPort":"navigate"},{"sourceId":"3e364eaf-9765-bcef-ebbc-2a9f8a114cbd","sourcePort":"PostId","targetId":"1a7c08f2-db2b-f19e-1249-1492a6596949","targetPort":"PostId"},{"sourceId":"dd7ead39-4fe1-9617-47d3-4659160bcf01","sourcePort":"didMount","targetId":"1a7c08f2-db2b-f19e-1249-1492a6596949","targetPort":"Do"},{"sourceId":"1a7c08f2-db2b-f19e-1249-1492a6596949","sourcePort":"Is Favorite","targetId":"c7622f65-defa-5096-750f-6b86d3c5d35e","targetPort":"mounted"},{"sourceId":"1a7c08f2-db2b-f19e-1249-1492a6596949","sourcePort":"Is Favorite","targetId":"2f492b4b-cde9-569a-c6a0-1cb44e3a7951","targetPort":"value"},{"sourceId":"2f492b4b-cde9-569a-c6a0-1cb44e3a7951","sourcePort":"result","targetId":"3e36828b-6b77-e802-19c5-7d4fee4320ef","targetPort":"mounted"},{"sourceId":"3e36828b-6b77-e802-19c5-7d4fee4320ef","sourcePort":"onClick","targetId":"b19f14c8-77b7-caec-095b-b890660b2fed","targetPort":"Do"},{"sourceId":"3e364eaf-9765-bcef-ebbc-2a9f8a114cbd","sourcePort":"PostId","targetId":"b19f14c8-77b7-caec-095b-b890660b2fed","targetPort":"PostId"},{"sourceId":"b19f14c8-77b7-caec-095b-b890660b2fed","sourcePort":"Success","targetId":"1a7c08f2-db2b-f19e-1249-1492a6596949","targetPort":"Do"},{"sourceId":"c7622f65-defa-5096-750f-6b86d3c5d35e","sourcePort":"onClick","targetId":"c8f2d5eb-43b1-0239-35c7-9d56dcc903c3","targetPort":"Do"},{"sourceId":"3e364eaf-9765-bcef-ebbc-2a9f8a114cbd","sourcePort":"PostId","targetId":"c8f2d5eb-43b1-0239-35c7-9d56dcc903c3","targetPort":"PostId"},{"sourceId":"c8f2d5eb-43b1-0239-35c7-9d56dcc903c3","sourcePort":"Success","targetId":"1a7c08f2-db2b-f19e-1249-1492a6596949","targetPort":"Do"},{"sourceId":"8b6dda71-418d-8b4f-f09d-e93e08e1130e","sourcePort":"authenticated","targetId":"8b4adddc-4d49-6fb6-6602-471eef613c7d","targetPort":"mounted"},{"sourceId":"5195e3d2-610e-999a-98b4-4aba9b1ad6f0","sourcePort":"prop-track_order","targetId":"6d0c24fe-dacc-ac8a-23d9-f6e106847f24","targetPort":"in-TrackOrder"},{"sourceId":"6d0c24fe-dacc-ac8a-23d9-f6e106847f24","sourcePort":"out-Done","targetId":"295e308b-a443-4d0a-5ef2-cbe42baadad7","targetPort":"on"},{"sourceId":"6d0c24fe-dacc-ac8a-23d9-f6e106847f24","sourcePort":"out-SortedTracks","targetId":"704064aa-0f76-6075-f4c2-f33c5ce2ea06","targetPort":"Items"},{"sourceId":"6d0c24fe-dacc-ac8a-23d9-f6e106847f24","sourcePort":"out-Done","targetId":"3fa93927-5a9d-902a-3a18-c219d59adb18","targetPort":"run"},{"sourceId":"3e364eaf-9765-bcef-ebbc-2a9f8a114cbd","sourcePort":"PostId","targetId":"cf5bab7c-8699-e986-355b-3f9743ed4ea4","targetPort":"in-PostId"},{"sourceId":"cf5bab7c-8699-e986-355b-3f9743ed4ea4","sourcePort":"out-Items","targetId":"6d0c24fe-dacc-ac8a-23d9-f6e106847f24","targetPort":"in-Tracks"},{"sourceId":"cf5bab7c-8699-e986-355b-3f9743ed4ea4","sourcePort":"out-Success","targetId":"6d0c24fe-dacc-ac8a-23d9-f6e106847f24","targetPort":"run"},{"sourceId":"dd7ead39-4fe1-9617-47d3-4659160bcf01","sourcePort":"didMount","targetId":"5195e3d2-610e-999a-98b4-4aba9b1ad6f0","targetPort":"fetch"},{"sourceId":"5195e3d2-610e-999a-98b4-4aba9b1ad6f0","sourcePort":"fetched","targetId":"cf5bab7c-8699-e986-355b-3f9743ed4ea4","targetPort":"run"}],"ports":[{"name":"PostId","type":{"name":"string","allowConnectionsOnly":true},"plug":"input","index":1}],"roots":["dd7ead39-4fe1-9617-47d3-4659160bcf01"],"metadata":{"canvasPos":{"x":5028.932555317588,"y":0}}},{"name":"/Favourite Handling/Is Favorite","nodes":[{"id":"5fd6a19f-66d4-eee5-b3fe-34bf38e9e9ce","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"e52c4681-cec2-44df-2bf3-74348fc4dfcb","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"d9aeb427-ac6e-0789-c7fd-80456a194240","type":"JavaScriptFunction","parameters":{"functionScript":"const favorites = Inputs.Favorites;\nconst postId = Inputs.PostId;\nOutputs.isFavorite = false;\nif (favorites !== undefined && postId !== undefined) {\n    let found = favorites.find ( (item) => (item.id === postId)) !== undefined;\n\n    Outputs.isFavorite = found;\n}\nOutputs.Success();"},"ports":[{"name":"in-Favorites","displayName":"Favorites","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-PostId","displayName":"PostId","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-isFavorite","displayName":"isFavorite","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"e7d4feea-2b9e-f95f-b11c-e5926912452b","type":"Collection2","parameters":{"collectionId":"favoriteposts"},"ports":[],"children":[]}],"connections":[{"sourceId":"e7d4feea-2b9e-f95f-b11c-e5926912452b","sourcePort":"items","targetId":"d9aeb427-ac6e-0789-c7fd-80456a194240","targetPort":"in-Favorites"},{"sourceId":"5fd6a19f-66d4-eee5-b3fe-34bf38e9e9ce","sourcePort":"PostId","targetId":"d9aeb427-ac6e-0789-c7fd-80456a194240","targetPort":"in-PostId"},{"sourceId":"5fd6a19f-66d4-eee5-b3fe-34bf38e9e9ce","sourcePort":"Do","targetId":"d9aeb427-ac6e-0789-c7fd-80456a194240","targetPort":"run"},{"sourceId":"d9aeb427-ac6e-0789-c7fd-80456a194240","sourcePort":"out-isFavorite","targetId":"e52c4681-cec2-44df-2bf3-74348fc4dfcb","targetPort":"Is Favorite"},{"sourceId":"d9aeb427-ac6e-0789-c7fd-80456a194240","sourcePort":"out-Success","targetId":"e52c4681-cec2-44df-2bf3-74348fc4dfcb","targetPort":"Success"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"*","plug":"output","index":1},{"name":"PostId","type":"*","group":"Inputs","plug":"input","index":1},{"name":"Is Favorite","type":"*","plug":"output","index":2}],"roots":[]},{"name":"/Favourite Handling/Add Favorite","nodes":[{"id":"fcfa8bb1-3a4c-e631-196b-b15149c6794d","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"430290e6-84bd-ec3e-fb5d-c675ee251e8f","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"894747a7-7172-9c85-9600-e6784b67ad4e","type":"Collection2","parameters":{"collectionId":"favoriteposts"},"ports":[],"children":[]},{"id":"bb9b9919-68c8-6005-0fc0-301a73f92313","type":"AddDbModelRelation","parameters":{"collectionName":"_User","relationProperty":"favorites"},"ports":[],"children":[]},{"id":"2b56311e-29fc-0049-14be-22b1d24f6d28","type":"JavaScriptFunction","parameters":{"functionScript":"const favorites = Inputs.Favorites;\nconst postId = Inputs.PostId;\nconst favoritesObj = Noodl.Object.get (postId);\nif (favorites !== undefined && postId !== undefined) {\n    let newList = favorites.concat ([favoritesObj]);\n    Outputs.NewFavorites = newList;\n    Outputs.Done();\n}"},"ports":[{"name":"in-Favorites","displayName":"Favorites","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-PostId","displayName":"PostId","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-NewFavorites","displayName":"NewFavorites","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"d0ae6ec6-3d47-2f28-a68f-eb1a1df6e5a5","type":"Collection2","parameters":{"collectionId":"favoriteposts"},"ports":[],"children":[]},{"id":"df275a0f-42c9-865b-80e7-8ada6b70a318","type":"net.noodl.user.User","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"bb9b9919-68c8-6005-0fc0-301a73f92313","sourcePort":"relationAdded","targetId":"2b56311e-29fc-0049-14be-22b1d24f6d28","targetPort":"run"},{"sourceId":"894747a7-7172-9c85-9600-e6784b67ad4e","sourcePort":"items","targetId":"2b56311e-29fc-0049-14be-22b1d24f6d28","targetPort":"in-Favorites"},{"sourceId":"fcfa8bb1-3a4c-e631-196b-b15149c6794d","sourcePort":"Do","targetId":"bb9b9919-68c8-6005-0fc0-301a73f92313","targetPort":"store"},{"sourceId":"fcfa8bb1-3a4c-e631-196b-b15149c6794d","sourcePort":"PostId","targetId":"bb9b9919-68c8-6005-0fc0-301a73f92313","targetPort":"targetId"},{"sourceId":"fcfa8bb1-3a4c-e631-196b-b15149c6794d","sourcePort":"PostId","targetId":"2b56311e-29fc-0049-14be-22b1d24f6d28","targetPort":"in-PostId"},{"sourceId":"2b56311e-29fc-0049-14be-22b1d24f6d28","sourcePort":"out-NewFavorites","targetId":"d0ae6ec6-3d47-2f28-a68f-eb1a1df6e5a5","targetPort":"items"},{"sourceId":"df275a0f-42c9-865b-80e7-8ada6b70a318","sourcePort":"id","targetId":"bb9b9919-68c8-6005-0fc0-301a73f92313","targetPort":"modelId"},{"sourceId":"d0ae6ec6-3d47-2f28-a68f-eb1a1df6e5a5","sourcePort":"changed","targetId":"430290e6-84bd-ec3e-fb5d-c675ee251e8f","targetPort":"Success"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"*","plug":"output","index":1},{"name":"PostId","type":{"name":"string","allowConnectionsOnly":true},"plug":"input","index":1}],"roots":[]},{"name":"/Favourite Handling/Remove Favorite","nodes":[{"id":"0964abe1-54f5-3e65-9d79-8d0f390e2823","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"955a39a2-05d4-42ab-8e70-73b2496cdf3f","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"2befed3a-a699-f5e9-075e-1fa742f77c20","type":"Collection2","parameters":{"collectionId":"favoriteposts"},"ports":[],"children":[]},{"id":"eb29dc92-61b2-f806-382e-e524e97bf3af","type":"RemoveDbModelRelation","parameters":{"collectionName":"_User","relationProperty":"favorites"},"ports":[],"children":[]},{"id":"f00978ef-d516-bf09-7d2d-065d8315c4d2","type":"net.noodl.user.User","parameters":{},"ports":[],"children":[]},{"id":"fd2652b4-17c6-c0c7-be71-6ecf7fb7e98e","type":"JavaScriptFunction","parameters":{"functionScript":"const favorites = Inputs.Favorites;\nconst postId = Inputs.PostId;\n\nif (favorites !== undefined && postId !== undefined) {\n    let newList = favorites.filter (item => (item.id !== postId));\n    Outputs.NewFavorites = newList;\n    Outputs.Done();\n}"},"ports":[{"name":"in-Favorites","displayName":"Favorites","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-PostId","displayName":"PostId","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-NewFavorites","displayName":"NewFavorites","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"28d28edb-92ea-6e7f-d755-1d9c077107c1","type":"Collection2","parameters":{"collectionId":"favoriteposts"},"ports":[],"children":[]}],"connections":[{"sourceId":"f00978ef-d516-bf09-7d2d-065d8315c4d2","sourcePort":"id","targetId":"eb29dc92-61b2-f806-382e-e524e97bf3af","targetPort":"modelId"},{"sourceId":"fd2652b4-17c6-c0c7-be71-6ecf7fb7e98e","sourcePort":"out-NewFavorites","targetId":"28d28edb-92ea-6e7f-d755-1d9c077107c1","targetPort":"items"},{"sourceId":"2befed3a-a699-f5e9-075e-1fa742f77c20","sourcePort":"items","targetId":"fd2652b4-17c6-c0c7-be71-6ecf7fb7e98e","targetPort":"in-Favorites"},{"sourceId":"eb29dc92-61b2-f806-382e-e524e97bf3af","sourcePort":"relationRemoved","targetId":"fd2652b4-17c6-c0c7-be71-6ecf7fb7e98e","targetPort":"run"},{"sourceId":"0964abe1-54f5-3e65-9d79-8d0f390e2823","sourcePort":"PostId","targetId":"eb29dc92-61b2-f806-382e-e524e97bf3af","targetPort":"targetId"},{"sourceId":"0964abe1-54f5-3e65-9d79-8d0f390e2823","sourcePort":"Do","targetId":"eb29dc92-61b2-f806-382e-e524e97bf3af","targetPort":"store"},{"sourceId":"0964abe1-54f5-3e65-9d79-8d0f390e2823","sourcePort":"PostId","targetId":"fd2652b4-17c6-c0c7-be71-6ecf7fb7e98e","targetPort":"in-PostId"},{"sourceId":"28d28edb-92ea-6e7f-d755-1d9c077107c1","sourcePort":"changed","targetId":"955a39a2-05d4-42ab-8e70-73b2496cdf3f","targetPort":"Success"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"*","plug":"output","index":1},{"name":"PostId","type":{"name":"string","allowConnectionsOnly":true},"plug":"input","index":1}],"roots":[]}]
[{"name":"/#Check/Check","nodes":[{"id":"45ac38b7-5992-3dad-133b-0ed99ea6a5cc","type":"Page","parameters":{},"ports":[],"children":[{"id":"51497d02-52a2-8997-76ec-5fe11c1d4b5f","type":"Group","variant":"Page Container","parameters":{"flexDirection":"column","clip":true,"sizeMode":"explicit","scrollEnabled":true,"justifyContent":"flex-start"},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"children":[{"id":"94d77cc3-a14f-d196-6cb3-5876923c9842","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentHeight"},"ports":[],"children":[{"id":"94ee58a1-5ace-897f-6d14-ad98eb0cf5e5","type":"net.noodl.controls.textinput","variant":"Standard Text Input","parameters":{"label":"Enter playlist link","placeholder":"https://open.spotify.com/..."},"ports":[],"children":[]},{"id":"80acc168-1962-e82e-3726-24bb97118532","type":"net.noodl.controls.button","parameters":{"alignY":"bottom","marginLeft":{"value":16,"unit":"px"},"marginTop":{"value":0,"unit":"px"},"label":"Check"},"ports":[],"children":[]}]},{"id":"cd21bd1c-f7cc-9fb4-c7e0-e7a1b5c62227","type":"Group","parameters":{"paddingTop":{"value":10,"unit":"px"}},"ports":[],"children":[{"id":"17a545a0-171e-b285-150a-77133a1d8b74","type":"Text","parameters":{"alignX":"center","sizeMode":"contentSize","textStyle":"Body Text","text":"No duplicates found"},"ports":[],"children":[]},{"id":"2647fe2b-4659-a11e-9dee-07ed52c729b1","type":"Group","parameters":{},"ports":[],"children":[{"id":"bdfdb4f4-ffc6-f068-b585-9f2cc07611c7","type":"For Each","parameters":{"template":"/#Check/Check/Duplicate Track"},"ports":[],"children":[]}]},{"id":"f48ec996-b893-ccc4-3817-0ee30f84a486","type":"Text","parameters":{"alignX":"center","sizeMode":"contentSize","textStyle":"Body Text","text":"Could not parse playlist","color":"#FF0000"},"ports":[],"children":[]}]}]}]},{"id":"60e18346-5ede-56db-c12f-f923cbf1a9c8","type":"PageInputs","parameters":{},"ports":[],"children":[]},{"id":"8f6ba298-1995-5a5f-1618-73494201dff4","type":"Collection2","parameters":{},"ports":[],"children":[]},{"id":"c3147e23-0387-c53e-19d2-66355e08fc08","type":"CloudFunction2","parameters":{"function":"Check Track Duplicates"},"ports":[],"children":[]},{"id":"4349b0da-1a47-dd93-b738-69984f9f35c6","type":"Condition","parameters":{},"ports":[],"children":[]},{"id":"1aedf4ee-e9c7-bc9b-5a2d-4e72f5ae5bf8","type":"Expression","parameters":{"expression":"count === 0"},"ports":[],"children":[]},{"id":"6cd5fe09-59cf-e3e6-aec5-ffa1d7e23436","type":"JavaScriptFunction","parameters":{"functionScript":"const playlistString = Inputs.PlaylistUrl;\r\n\r\nif (playlistString !== undefined) {\r\n    if (playlistString.startsWith('https://open.spotify.com') === true) {\r\n        let url = new URL(playlistString).pathname.split('/').pop()\r\n        //console.log(new URL(playlistString).pathname.split('/').pop());\r\n        Outputs.Playlist = url;//playlistString.substring('https://api.spotify.com/v1/playlists/'.length);\r\n        Outputs.Success();\r\n    }\r\n    else {\r\n        Outputs.Failure();\r\n    }\r\n}\r\n"},"ports":[{"name":"in-PlaylistUrl","displayName":"PlaylistUrl","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Playlist","displayName":"Playlist","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"97f03793-c905-caaf-22f2-a49e222cc017","type":"States","parameters":{"states":"Idle,Error,No Duplicates,Duplicates"},"ports":[],"children":[]}],"connections":[{"sourceId":"c3147e23-0387-c53e-19d2-66355e08fc08","sourcePort":"out-duplicates","targetId":"8f6ba298-1995-5a5f-1618-73494201dff4","targetPort":"items"},{"sourceId":"c3147e23-0387-c53e-19d2-66355e08fc08","sourcePort":"out-count","targetId":"1aedf4ee-e9c7-bc9b-5a2d-4e72f5ae5bf8","targetPort":"count"},{"sourceId":"1aedf4ee-e9c7-bc9b-5a2d-4e72f5ae5bf8","sourcePort":"result","targetId":"4349b0da-1a47-dd93-b738-69984f9f35c6","targetPort":"condition"},{"sourceId":"c3147e23-0387-c53e-19d2-66355e08fc08","sourcePort":"success","targetId":"4349b0da-1a47-dd93-b738-69984f9f35c6","targetPort":"eval"},{"sourceId":"c3147e23-0387-c53e-19d2-66355e08fc08","sourcePort":"out-duplicates","targetId":"bdfdb4f4-ffc6-f068-b585-9f2cc07611c7","targetPort":"items"},{"sourceId":"94ee58a1-5ace-897f-6d14-ad98eb0cf5e5","sourcePort":"onEnter","targetId":"6cd5fe09-59cf-e3e6-aec5-ffa1d7e23436","targetPort":"run"},{"sourceId":"80acc168-1962-e82e-3726-24bb97118532","sourcePort":"onClick","targetId":"6cd5fe09-59cf-e3e6-aec5-ffa1d7e23436","targetPort":"run"},{"sourceId":"94ee58a1-5ace-897f-6d14-ad98eb0cf5e5","sourcePort":"onTextChanged","targetId":"6cd5fe09-59cf-e3e6-aec5-ffa1d7e23436","targetPort":"in-PlaylistUrl"},{"sourceId":"6cd5fe09-59cf-e3e6-aec5-ffa1d7e23436","sourcePort":"out-Playlist","targetId":"c3147e23-0387-c53e-19d2-66355e08fc08","targetPort":"in-spotify_list_id"},{"sourceId":"6cd5fe09-59cf-e3e6-aec5-ffa1d7e23436","sourcePort":"out-Success","targetId":"c3147e23-0387-c53e-19d2-66355e08fc08","targetPort":"call"},{"sourceId":"4349b0da-1a47-dd93-b738-69984f9f35c6","sourcePort":"ontrue","targetId":"97f03793-c905-caaf-22f2-a49e222cc017","targetPort":"to-No Duplicates"},{"sourceId":"4349b0da-1a47-dd93-b738-69984f9f35c6","sourcePort":"onfalse","targetId":"97f03793-c905-caaf-22f2-a49e222cc017","targetPort":"to-Duplicates"},{"sourceId":"c3147e23-0387-c53e-19d2-66355e08fc08","sourcePort":"failure","targetId":"97f03793-c905-caaf-22f2-a49e222cc017","targetPort":"to-Error"},{"sourceId":"97f03793-c905-caaf-22f2-a49e222cc017","sourcePort":"at-No Duplicates","targetId":"17a545a0-171e-b285-150a-77133a1d8b74","targetPort":"mounted"},{"sourceId":"97f03793-c905-caaf-22f2-a49e222cc017","sourcePort":"at-Duplicates","targetId":"2647fe2b-4659-a11e-9dee-07ed52c729b1","targetPort":"mounted"},{"sourceId":"c3147e23-0387-c53e-19d2-66355e08fc08","sourcePort":"error","targetId":"f48ec996-b893-ccc4-3817-0ee30f84a486","targetPort":"text"},{"sourceId":"6cd5fe09-59cf-e3e6-aec5-ffa1d7e23436","sourcePort":"out-Failure","targetId":"97f03793-c905-caaf-22f2-a49e222cc017","targetPort":"to-Error"},{"sourceId":"97f03793-c905-caaf-22f2-a49e222cc017","sourcePort":"at-Error","targetId":"f48ec996-b893-ccc4-3817-0ee30f84a486","targetPort":"mounted"}],"ports":[],"roots":["45ac38b7-5992-3dad-133b-0ed99ea6a5cc"]},{"name":"/#Check/Check/Duplicate Track","nodes":[{"id":"8f99266d-950a-e717-1eef-3eaf7fcb6cab","type":"Group","parameters":{"sizeMode":"contentHeight","marginBottom":{"value":7,"unit":"px"}},"ports":[],"children":[{"id":"c29721b8-c7d7-f703-b110-0a913302273e","type":"Text","parameters":{"color":"White","fontFamily":"fonts/Roboto/Roboto-Light.ttf"},"ports":[],"children":[]},{"id":"ce45de1e-0d4e-2063-d277-25a17212ad35","type":"Group","parameters":{"paddingLeft":{"value":15,"unit":"px"},"paddingTop":{"value":2,"unit":"px"},"paddingBottom":{"value":2,"unit":"px"}},"ports":[],"children":[{"id":"72a4d230-5668-780c-12d3-a0c33b1ee6a4","type":"For Each","parameters":{"template":"/#Check/Check/Duplicate Track/Duplicate Post"},"ports":[],"children":[]}]}]},{"id":"f9834c48-7e31-08cc-0f0c-cd3dac0fb2d0","type":"DbModel2","parameters":{"idSource":"foreach","collectionName":"SpotifyTrack"},"ports":[],"children":[]},{"id":"aeb6c91b-e2e1-b6ec-b72f-64d9f861eb81","type":"DbCollection2","parameters":{"collectionName":"Post","visualFilter":{"combinator":"or","rules":[{"combinator":"and","rules":[]}]},"storageFilterType":"json","storageJSONFilter":"// Write your query script here, check out the reference documentation for examples\nwhere({spotify_tracks:{pointsTo:Inputs.TrackId}});\n"},"ports":[],"children":[]}],"connections":[{"sourceId":"f9834c48-7e31-08cc-0f0c-cd3dac0fb2d0","sourcePort":"prop-name","targetId":"c29721b8-c7d7-f703-b110-0a913302273e","targetPort":"text"},{"sourceId":"f9834c48-7e31-08cc-0f0c-cd3dac0fb2d0","sourcePort":"id","targetId":"aeb6c91b-e2e1-b6ec-b72f-64d9f861eb81","targetPort":"storageFilterValue-TrackId"},{"sourceId":"8f99266d-950a-e717-1eef-3eaf7fcb6cab","sourcePort":"didMount","targetId":"aeb6c91b-e2e1-b6ec-b72f-64d9f861eb81","targetPort":"storageFetch"},{"sourceId":"aeb6c91b-e2e1-b6ec-b72f-64d9f861eb81","sourcePort":"items","targetId":"72a4d230-5668-780c-12d3-a0c33b1ee6a4","targetPort":"items"}],"ports":[],"roots":["8f99266d-950a-e717-1eef-3eaf7fcb6cab"]},{"name":"/#Check/Check/Duplicate Track/Duplicate Post","nodes":[{"id":"0022dc3e-c4a6-1b2c-9488-bc1cf3e79b44","type":"Group","parameters":{"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"6bd6d552-ab08-42f8-a8ec-76a369f71c01","type":"Text","parameters":{"sizeMode":"contentHeight","alignY":"center","position":"relative","textStyle":"Main Table Text","styleCss":"/* background-color: red; */\r\ntext-decoration: underline;\r\ncursor: pointer;","fontFamily":"fonts/Roboto/Roboto-Italic.ttf","color":"Grey - 700"},"stateParameters":{"hover":{}},"ports":[],"children":[]}]},{"id":"e821317d-3494-6b55-cfa6-e0f744d14880","type":"DbModel2","parameters":{"collectionName":"Post","idSource":"foreach"},"ports":[],"children":[]},{"id":"06565d05-53bb-35c5-15cb-871b5ce804b2","type":"RouterNavigate","parameters":{"router":"main","target":"/#Post Info/Post Info"},"ports":[],"children":[]}],"connections":[{"sourceId":"e821317d-3494-6b55-cfa6-e0f744d14880","sourcePort":"prop-title","targetId":"6bd6d552-ab08-42f8-a8ec-76a369f71c01","targetPort":"text"},{"sourceId":"e821317d-3494-6b55-cfa6-e0f744d14880","sourcePort":"id","targetId":"06565d05-53bb-35c5-15cb-871b5ce804b2","targetPort":"pm-PostId"},{"sourceId":"6bd6d552-ab08-42f8-a8ec-76a369f71c01","sourcePort":"onClick","targetId":"06565d05-53bb-35c5-15cb-871b5ce804b2","targetPort":"navigate"}],"ports":[],"roots":["0022dc3e-c4a6-1b2c-9488-bc1cf3e79b44"]}]
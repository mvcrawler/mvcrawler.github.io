[{"name":"/#Favs/Favs","nodes":[{"id":"68a5623e-c3e6-e7ed-75cc-64d57835abfd","type":"Page","parameters":{},"ports":[],"children":[{"id":"ba10d912-8ce5-993d-d907-a5bae87b1a5d","type":"Group","variant":"Page Container","parameters":{"flexDirection":"column","clip":true,"sizeMode":"explicit","justifyContent":"flex-start"},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"children":[{"id":"ae0fa6cd-c65e-b826-2f2b-f326874874fe","type":"/#Favs/Favs List View","parameters":{},"ports":[],"children":[]}]}]},{"id":"28fe0168-054f-4134-83cd-84dda97a7333","type":"PageInputs","parameters":{"queryParams":"p,s"},"ports":[],"children":[]}],"connections":[{"sourceId":"28fe0168-054f-4134-83cd-84dda97a7333","sourcePort":"pm-s","targetId":"ae0fa6cd-c65e-b826-2f2b-f326874874fe","targetPort":"Sort Ascending"},{"sourceId":"28fe0168-054f-4134-83cd-84dda97a7333","sourcePort":"pm-p","targetId":"ae0fa6cd-c65e-b826-2f2b-f326874874fe","targetPort":"Pagination Index"}],"ports":[],"roots":["68a5623e-c3e6-e7ed-75cc-64d57835abfd"]},{"name":"/#Favs/Favs List View","nodes":[{"id":"aa86fbb6-0aad-5127-e02f-1aa85314b987","type":"Group","parameters":{},"ports":[],"children":[{"id":"7199a923-a436-cfa0-4091-d79447cfa3f4","type":"Group","parameters":{"sizeMode":"explicit","clip":true,"scrollEnabled":true},"ports":[],"children":[{"id":"9b740b42-c378-f987-a01b-39c9dd331f35","type":"/Post Table","parameters":{"CurrentSortingField":"published","SortingDescending":true},"ports":[],"children":[]}]},{"id":"85547acc-2e7e-3829-fae9-12e03d6cdcab","type":"/Components/Pagination Control","parameters":{"Alignment X":"center","Step":20,"Margin Top":{"value":10,"unit":"px"}},"ports":[],"children":[]}]},{"id":"053415ff-f49d-4e13-b363-d0481dc1dbf2","type":"DbCollection2","parameters":{"collectionName":"Post","storageFilterType":"json","storageJSONFilter":"// Write your query script here, check out the reference documentation for examples\n\nconst textFilterEnabled = Inputs.TextFilterEnabled;\nconst textFilter = Inputs.TextFilter;\nconst sortAscending = Inputs.SortAscending;\nconst userId = Inputs.UserId;\n\nconst filters = [];\n\nconst relationFilter = {relatedTo:{id:userId, key:'favorites'}};\nfilters.push (relationFilter);\n\nif (textFilterEnabled === true) {\n    const filter = {title:{matchesRegex:textFilter, options:'i'}};\n    filters.push (filter);\n}\nif (filters.length === 0) {\n    where({});\n}\nelse if (filters.length === 1) {\n    where(filters[0]);\n}\nelse {\n    where({and:filters});\n}\n\nif (sortAscending === true) {\n    sort(['-published'])\n}\nelse {\n    sort(['published'])\n}","storageEnableLimit":true,"storageLimit":20},"ports":[],"children":[]},{"id":"1926f675-e4df-3abf-348f-d6162724f051","type":"RouterNavigate","parameters":{"router":"main","target":"/#Post Info/Post Info"},"ports":[],"children":[]},{"id":"8c514d0b-9d03-a3cd-e12e-5213bd287e4e","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"e2351d76-cc21-3385-3ca7-011f6a537f23","type":"Expression","parameters":{"expression":"p_index\n"},"ports":[],"children":[]},{"id":"d4e3bbdf-c656-743e-9e31-76851ee12bf2","type":"RouterNavigate","parameters":{"router":"main","target":"/#Favs/Favs"},"ports":[],"children":[]},{"id":"a873c3f0-0398-f8d6-06ca-b9906e5fe454","type":"JavaScriptFunction","parameters":{"functionScript":"\n\nif (Inputs.SortAscending === undefined || Inputs.SortAscending === true) {\n    Outputs.SortAscending = true;\n}\nelse {\n    Outputs.SortAscending = false;\n}\nOutputs.Done();"},"ports":[{"name":"in-SortAscending","displayName":"SortAscending","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-SortAscending","displayName":"SortAscending","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"7ef58307-0abe-47f7-8a60-de8fe1210a9a","type":"RouterNavigate","parameters":{"router":"main","target":"/#Favs/Favs"},"ports":[],"children":[]},{"id":"fe59d8da-b74a-a62c-4548-ccb2c23eb3a8","type":"Inverter","parameters":{},"ports":[],"children":[]},{"id":"e4c76fc5-f853-4f13-50c6-89fdfb5d428f","type":"RouterNavigate","parameters":{"router":"main","target":"/#Posts/Posts"},"ports":[],"children":[]},{"id":"6510f8bc-63b5-52c4-3304-41171b5981ec","type":"Inverter","parameters":{},"ports":[],"children":[]},{"id":"0a980c44-158d-15c8-3c5c-88ca938804b4","type":"Switch","parameters":{},"ports":[],"children":[]},{"id":"8dd522bc-fa87-e8ec-8e52-e7af2af70c8a","type":"JavaScriptFunction","parameters":{"functionScript":"\n\nlet baseHeaders = [{\n    \"Field\":\"title\",\n    \"Label\":\"Post Title\",\n    \"Type\":\"Post\"\n  },\n  {\n    \"Field\":\"member\",\n    \"Label\":\"Author\",\n    \"Type\":\"Member\"\n  },\n  {\n    \"Field\":\"published\",\n    \"Label\":\"Publish Date\",\n    \"Sortable\":true,\n    \"Descending\":true\n  }\n]\n\n\nOutputs.Headers = baseHeaders;"},"ports":[{"name":"out-Headers","displayName":"Headers","plug":"output","type":"*","group":"Outputs","index":4}],"children":[]},{"id":"ede64f18-af6e-dd52-169a-f42bb39b76b6","type":"net.noodl.user.User","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"053415ff-f49d-4e13-b363-d0481dc1dbf2","sourcePort":"count","targetId":"85547acc-2e7e-3829-fae9-12e03d6cdcab","targetPort":"Last Count"},{"sourceId":"8c514d0b-9d03-a3cd-e12e-5213bd287e4e","sourcePort":"Pagination Index","targetId":"e2351d76-cc21-3385-3ca7-011f6a537f23","targetPort":"p_index"},{"sourceId":"85547acc-2e7e-3829-fae9-12e03d6cdcab","sourcePort":"Next Start Index","targetId":"d4e3bbdf-c656-743e-9e31-76851ee12bf2","targetPort":"pm-p"},{"sourceId":"85547acc-2e7e-3829-fae9-12e03d6cdcab","sourcePort":"Switch Page","targetId":"d4e3bbdf-c656-743e-9e31-76851ee12bf2","targetPort":"navigate"},{"sourceId":"e2351d76-cc21-3385-3ca7-011f6a537f23","sourcePort":"result","targetId":"053415ff-f49d-4e13-b363-d0481dc1dbf2","targetPort":"storageSkip"},{"sourceId":"e2351d76-cc21-3385-3ca7-011f6a537f23","sourcePort":"result","targetId":"85547acc-2e7e-3829-fae9-12e03d6cdcab","targetPort":"Current Start Index"},{"sourceId":"fe59d8da-b74a-a62c-4548-ccb2c23eb3a8","sourcePort":"result","targetId":"7ef58307-0abe-47f7-8a60-de8fe1210a9a","targetPort":"pm-s"},{"sourceId":"aa86fbb6-0aad-5127-e02f-1aa85314b987","sourcePort":"didMount","targetId":"a873c3f0-0398-f8d6-06ca-b9906e5fe454","targetPort":"run"},{"sourceId":"a873c3f0-0398-f8d6-06ca-b9906e5fe454","sourcePort":"out-Done","targetId":"053415ff-f49d-4e13-b363-d0481dc1dbf2","targetPort":"storageFetch"},{"sourceId":"8c514d0b-9d03-a3cd-e12e-5213bd287e4e","sourcePort":"Sort Ascending","targetId":"a873c3f0-0398-f8d6-06ca-b9906e5fe454","targetPort":"in-SortAscending"},{"sourceId":"a873c3f0-0398-f8d6-06ca-b9906e5fe454","sourcePort":"out-SortAscending","targetId":"fe59d8da-b74a-a62c-4548-ccb2c23eb3a8","targetPort":"value"},{"sourceId":"a873c3f0-0398-f8d6-06ca-b9906e5fe454","sourcePort":"out-SortAscending","targetId":"e4c76fc5-f853-4f13-50c6-89fdfb5d428f","targetPort":"pm-s"},{"sourceId":"a873c3f0-0398-f8d6-06ca-b9906e5fe454","sourcePort":"out-SortAscending","targetId":"053415ff-f49d-4e13-b363-d0481dc1dbf2","targetPort":"storageFilterValue-SortAscending"},{"sourceId":"053415ff-f49d-4e13-b363-d0481dc1dbf2","sourcePort":"items","targetId":"9b740b42-c378-f987-a01b-39c9dd331f35","targetPort":"Items"},{"sourceId":"9b740b42-c378-f987-a01b-39c9dd331f35","sourcePort":"Sorting Changed","targetId":"7ef58307-0abe-47f7-8a60-de8fe1210a9a","targetPort":"navigate"},{"sourceId":"a873c3f0-0398-f8d6-06ca-b9906e5fe454","sourcePort":"out-SortAscending","targetId":"6510f8bc-63b5-52c4-3304-41171b5981ec","targetPort":"value"},{"sourceId":"6510f8bc-63b5-52c4-3304-41171b5981ec","sourcePort":"result","targetId":"9b740b42-c378-f987-a01b-39c9dd331f35","targetPort":"SortingDescending"},{"sourceId":"053415ff-f49d-4e13-b363-d0481dc1dbf2","sourcePort":"fetched","targetId":"0a980c44-158d-15c8-3c5c-88ca938804b4","targetPort":"on"},{"sourceId":"0a980c44-158d-15c8-3c5c-88ca938804b4","sourcePort":"state","targetId":"7199a923-a436-cfa0-4091-d79447cfa3f4","targetPort":"mounted"},{"sourceId":"9b740b42-c378-f987-a01b-39c9dd331f35","sourcePort":"Item Id","targetId":"1926f675-e4df-3abf-348f-d6162724f051","targetPort":"pm-PostId"},{"sourceId":"9b740b42-c378-f987-a01b-39c9dd331f35","sourcePort":"Item Clicked","targetId":"1926f675-e4df-3abf-348f-d6162724f051","targetPort":"navigate"},{"sourceId":"8dd522bc-fa87-e8ec-8e52-e7af2af70c8a","sourcePort":"out-Headers","targetId":"9b740b42-c378-f987-a01b-39c9dd331f35","targetPort":"Headers"},{"sourceId":"ede64f18-af6e-dd52-169a-f42bb39b76b6","sourcePort":"id","targetId":"053415ff-f49d-4e13-b363-d0481dc1dbf2","targetPort":"storageFilterValue-UserId"}],"ports":[{"name":"Pagination Index","type":{"name":"*","editAsType":"string"},"group":"Parameters","plug":"input","index":1},{"name":"Member","type":"*","plug":"input","index":2},{"name":"Sort Ascending","type":"*","group":"Inputs","plug":"input","index":3}],"roots":["aa86fbb6-0aad-5127-e02f-1aa85314b987"]}]